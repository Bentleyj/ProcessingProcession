<!DOCTYPE html>
<head>
	<style>
	.video-container {
    	width: 100vw; 
    	height: 56.25vw;
    	background: black;
    	max-height: 100vh;
    	max-width: 177.78vh;
    	margin: auto;
    	position: absolute;
    	top:0;bottom:0;
    	left:0;right:0;
    	z-index:-1;
	}
	#webcam-container {
		position:absolute;
		top:0;
		left:0;
		width: 58%;
		height:100%;
		background:black;
		overflow:hidden;
		z-index: 0;
		/*opacity: 0.5;*/
	}
	#webcam {
		position:absolute;
		top:0;
		left:0;
		height:100%;
		background:black;
		z-index: 1;
		-webkit-filter: grayscale(100%); /* Safari 6.0 - 9.0 */
    	filter: grayscale(100%);
	}
	#video {
		width: 100%;
		height: 100%;
		z-index:0;
		position: absolute; 
	}
	</style>
</head>

<body bgcolor="#000000">

<div class="video-container">
	<video autoplay id="video">
		<source src="videos/processing.procession.mp4" type="video/mp4">
		Please upgrade your browser so that it supports HTML5 videos. Bitches.
	</video>
	<div id="webcam-container">
		<video autoplay id="webcam">
			<source src="videos/processing.procession.mp4" type="video/mp4">
		</video>
	</div>
</div>
<button type="button" onclick="toggleVideo()"> Toggle Video! </button>

<script>
var video = document.getElementById("webcam");
console.log(video);
 
navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.oGetUserMedia;
 
if (navigator.getUserMedia) {       
    navigator.getUserMedia({video: true}, handleVideo, videoError);
}
 
function handleVideo(stream) {
    video.src = window.URL.createObjectURL(stream);
}
 
function videoError(e) {
	console.log(e);
    // do something
}

function toggleVideo() {
	//console.log("Test");
	var webcamContainer = document.getElementById("webcam-container");
	var style = window.getComputedStyle(webcamContainer);
	if(style.getPropertyValue("opacity") === "1") {
		webcamContainer.style.opacity = "0";
	} else {
		webcamContainer.style.opacity = "1";
	}

}
</script>

</body>